<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device=width, initial-scale=1">
    <title>글수정 | 북북노벨</title>

    <!-- bootstrap v5.3 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.7/css/bootstrap.min.css"
        integrity="sha512-fw7f+TcMjTb7bpbLJZlP8g2Y4XcCyFZW8uy8HsRZsH/SwbMw0plKHFHr99DN3l04VsYNwvzicUX/6qurvIxbxw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- bootstrap icons 1.13.1 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">

    <!-- jquery toast plugin v1.3.2 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-toast-plugin/1.3.2/jquery.toast.min.css"
        integrity="sha512-wJgJNTBBkLit7ymC6vvzM1EcSWeM9mmOu+1USHaRBbHkm6W9EgM0HY27+UtUaprntaYQJF75rc8gjxllKs5OIQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- summernote -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.9.1/summernote-bs5.min.css"
        integrity="sha512-rDHV59PgRefDUbMm2lSjvf0ZhXZy3wgROFyao0JxZPGho3oOuWejq/ELx0FOZJpgaE5QovVtRN65Y3rrb7JhdQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        /* 사용자 정의 스타일 (주석) */
        /* 툴바 배경색 */
        .note-toolbar {
            background-color: #ffffff !important;
            /* 원하는 색상 */
        }

        /* 버튼 색상 (아이콘은 글자색으로 취급됨) */
        .note-btn {
            color: rgb(0, 0, 0) !important;
            /* 아이콘 색 */
            background-color: transparent !important;
            /* 배경 투명 */
            border: none !important;
            /* 테두리 제거 */
        }

        /* hover 시 효과 */
        .note-btn:hover {
            background-color: rgba(255, 255, 255, 0.2) !important;
            color: #027c08 !important;
            /* 노란색 같은 포인트 컬러 */
        }

        .nav-link {
            font-weight: 500;
        }
    </style>
</head>

<body>
    <!-- navbar -->
    <nav class="navbar navbar-expand-lg d-flex flex-column fixed-top bg-white sticky-top">
        <div class="container row py-3">
            <div class="navbar-nav col-3">
                <a class="navbar-brand fs-2 fw-bold" href="../home/home.html">
                    <i class="bi bi-book me-2 fs-1 text-success"></i>북북노벨
                </a>
            </div>
            <div class="navbar-nav col-6">
                <form class="input-group" action="../home/search.html">
                    <input type="text" class="form-control" placeholder="작가, 작품명" id="">
                    <button class="btn btn-outline-success p-3" type="submit" id="search">
                        <i class="bi bi-search"></i>
                    </button>
                </form>
            </div>
            <div class="navbar-nav col-3 d-flex justify-content-end position-relative">
                <a href="#" class="btn btn-link p-0" id="profileDropdown" role="button" data-bs-toggle="dropdown"
                    aria-expanded="false">
                    <i class="bi bi-person-circle fs-2 text-dark"></i>
                </a>
                <!-- 드롭다운 -->
                <div class="dropdown-menu dropdown-menu-end p-5 border rounded shadow-lg"
                    style="width: 350px; transform: translateX(10px); background-color: white;">
                    <div class="text-end mb-2">
                        <button class="btn-close ms-2" type="button" aria-label="Close"
                            data-bs-dismiss="dropdown"></button>
                    </div>
                    <div class="d-flex align-items-center mb-4 p-3 rounded-3" style="background-color: #f7f9fc;">
                        <div class="me-3">
                            <h6 class="fw-bold mb-0" style="font-size: 1.1rem;">지금 <a href="../auth/login.html">로그인</a>
                                하고
                            </h6>
                            <small style="font-size: 0.9rem;">다양한 혜택 받아보세요.</small>
                        </div>
                    </div>
                    <div class="d-flex justify-content-around my-4 text-center" style="gap: 1rem;">
                        <a href="#" class="text-decoration-none text-dark">
                            <i class="bi bi-coin fs-4"></i>
                            <br>
                            <small style="font-size: 0.9rem;">코인충전</small>
                        </a>
                        <a href="#" class="text-decoration-none text-dark">
                            <i class="bi bi-gift fs-4"></i>
                            <br>
                            <small style="font-size: 0.9rem;">이벤트</small>
                        </a>
                        <a href="#" class="text-decoration-none text-dark">
                            <i class="bi bi-calendar-check fs-4"></i>
                            <br>
                            <small style="font-size: 0.9rem;">출석체크</small>
                        </a>
                    </div>
                    <hr class="my-4">
                    <div class="row">
                        <div class="col-6">
                            <ul class="list-unstyled">
                                <li><a class="dropdown-item text-dark" href="../notice/list.html"
                                        style="font-size: 0.95rem; padding-bottom: 0.6rem;">공지사항</a></li>
                                <li><a class="dropdown-item text-dark" href="#"
                                        style="font-size: 0.95rem; padding-bottom: 0.6rem;">결제 내역</a></li>
                            </ul>
                        </div>
                        <div class="col-6">
                            <ul class="list-unstyled">
                                <li><a class="dropdown-item text-dark" href="../user_board/fanart_list.html"
                                        style="font-size: 0.95rem; padding-bottom: 0.6rem;">팬아트</a></li>
                                <li><a class="dropdown-item text-dark" href="#"
                                        style="font-size: 0.95rem; padding-bottom: 0.6rem;">1:1 문의하기</a></li>
                                <li><a class="dropdown-item text-muted" href="../admin/user_list.html"
                                        style="font-size: 0.95rem; padding-bottom: 0.6rem;">관리자모드</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- //드롭다운 -->
            </div>
        </div>
        <div class="border-top col-12 border-success"></div>
        <div class="container navbar-nav d-flex justify-content-start py-3 fs-5">
            <a class="nav-link text-dark me-2" href="../home/home.html">홈</a>
            <a class="nav-link text-dark me-2" href="../home/ranking.html">랭킹</a>
            <a class="nav-link text-dark me-2" href="../user_board/free_list.html">유저 게시판</a>
            <a class="nav-link text-dark me-2" href="../notice/list.html">공지사항</a>
        </div>
    </nav>
    <!-- //navbar -->

    <div class="container-sm">
        <!-- 입력부 -->
        <div class="mt-3">
            <div class="border-bottom ms-1 mt-3 py-3">
                <span class="fs-1 fw-bold">글쓰기</span>
            </div>

            <!-- 제목 입력 -->
            <div class="mb-3 justify-content-center">
                <div class="mb-2 me-4 col-2">
                    <select class="form-control border-secondary mt-3 text-center" type="select">
                        <option value="free">유저게시판</option>
                        <option value="recommend">작품 홍보</option>
                        <option value="review">작품 리뷰</option>
                        <option value="fanart">팬아트</option>
                    </select>
                </div>
            </div>
            <div class="d-flex gap-2">
                <input type="text" class="p-2 mt-1 form-control bg-light border-secondary" name="company"
                    placeholder="제목을 입력해주세요." id="importantCheck">
            </div>
        </div>


        <!-- 글쓰기 본문 -->
        <div class="mt-3">
            <form method="post">
                <textarea id="summernote" name="editordata"></textarea>
            </form>
        </div>

        <!-- 버튼 -->
        <div class="mt-3 text-end">
            <button type="button" class="btn btn-outline-warning me-3" id="cancleBtn">
                <i class="bi bi-pencil-fill me-1"></i>취소
            </button>

            <button type="button" class="btn btn-outline-dark" id="addBtn">
                <i class="bi bi-pencil-fill me-1"></i>작성 완료
            </button>
        </div>

    </div>
    <!--입력부 끝-->
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container text-center">
            <p class="mb-0">© 2025 북북노벨 | 웹소설 플랫폼</p>
        </div>
    </footer>
    <!-- //Footer -->



    <!-- bootstrap v5.3 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.7/js/bootstrap.bundle.min.js"
        integrity="sha512-Tc0i+vRogmX4NN7tuLbQfBxa8JkfUSAxSFVzmU31nVdHyiHElPPy2cWfFacmCJKw0VqovrzKhdd2TSTMdAxp2g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- jquery v3.7.1 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- jquery toast plugin v1.3.2 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-toast-plugin/1.3.2/jquery.toast.min.js"
        integrity="sha512-zlWWyZq71UMApAjih4WkaRpikgY9Bz1oXIW5G0fED4vk14JjGlQ1UmkGM392jEULP8jbNMiwLWdM8Z87Hu88Fw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- summernote -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.9.1/summernote-bs5.min.js"
        integrity="sha512-qTQLA91yGDLA06GBOdbT7nsrQY8tN6pJqjT16iTuk08RWbfYmUz/pQD3Gly1syoINyCFNsJh7A91LtrLIwODnw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.9.1/lang/summernote-ko-KR.min.js"
        integrity="sha512-npFeJw8MO1QVbeFuD7rqVR1CpAbOnUMoYnZIxDbz58biKU52Unq7Av3cn+SZ2KD4yOLWj4bOcjIV1+d4aEXAyg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- custom -->
    <script>

        document.getElementById('cancleBtn').addEventListener('click', function () {
            if (confirm('글쓰기를 취소하시겠습니까?')) {
                location.href = '../user_board/free_list.html';
                location.href = '../user_board/free_list.html';
            }
        });


        $('#addBtn').on('click', function () {
            let boardType = $('select').val(); // 선택된 값 가져오기
            let targetUrl = '';

            // 값에 따라 페이지 분기
            switch (boardType) {
                case 'free':
                    targetUrl = '../user_board/free_list.html';
                    break;
                case 'fanart':
                    targetUrl = '../user_board/fanart_list.html';
                    break;
                case 'review':
                    targetUrl = '../user_board/free_list.html';
                    break;
                case 'recommend':
                    targetUrl = '../user_board/free_list.html';
                    break;
                default:
                    targetUrl = '../notice/read.html'; // 기본 페이지
            }

            // 페이지 이동
            alert('작성이 완료되었습니다.');
            location.href = targetUrl;
        });


        // 툴바
        $(document).ready(function () {
            //여기 아래 부분
            $('#summernote').summernote({
                height: 300,                 // 에디터 높이
                minHeight: null,             // 최소 높이
                maxHeight: null,             // 최대 높이
                focus: true,                  // 에디터 로딩후 포커스를 맞출지 여부
                lang: "ko-KR",					// 한글 설정
                placeholder: '내용을 입력해주세요.',	//placeholder 설정
                dialogsInBody: true,
                toolbar: [
                    // [groupName, [list of button]]
                    ['fontname', ['fontname']],
                    ['fontsize', ['fontsize']],
                    ['style', ['bold', 'italic', 'underline', 'strikethrough', 'clear']],
                    ['color', ['forecolor', 'backcolor']],
                    ['table', ['table']],
                    ['para', ['ul', 'ol', 'paragraph']],
                    ['height', ['height']],
                    ['insert', ['picture', 'link', 'video']],
                    ['view', ['fullscreen', 'help']]
                ],
                fontNames: ['Arial', 'Arial Black', 'Comic Sans MS', 'Courier New', '맑은 고딕', '궁서', '굴림체', '굴림', '돋움체', '바탕체'],
                fontSizes: ['8', '9', '10', '11', '12', '14', '16', '18', '20', '22', '24', '28', '30', '36', '50', '72'],

            });

        });

        $(document).ready(function () {
            let currentPrefix = "";

            // 셀렉트 박스 변경 시
            $('select').on('change', function () {
                let val = $(this).val();

                switch (val) {
                    case "recommend":
                        currentPrefix = "[작품 홍보] ";
                        break;
                    case "review":
                        currentPrefix = "[작품 리뷰] ";
                        break;
                    case "fanart":
                        currentPrefix = "[팬아트] ";
                        break;
                    default:
                        currentPrefix = "";
                }

                const $importantCheck = $('#importantCheck');
                $importantCheck.val(currentPrefix);

                // 커서를 항상 접두사 뒤에 위치시킵니다.
                $importantCheck[0].setSelectionRange(currentPrefix.length, currentPrefix.length);
            });

            // input 필드에 입력이 발생할 때마다
            $('#importantCheck').on('input', function () {
                const $this = $(this);
                const currentVal = $this.val();

                // 입력된 값이 접두사로 시작하지 않으면 (지워졌을 경우)
                if (currentVal.indexOf(currentPrefix) !== 0) {
                    // 접두사를 다시 채워 넣습니다.
                    $this.val(currentPrefix + currentVal.substring(currentPrefix.length));
                }

                // 커서 위치를 항상 접두사 뒤로 고정
                if (this.selectionStart < currentPrefix.length) {
                    this.setSelectionRange(currentPrefix.length, currentPrefix.length);
                }
            });
        });

    </script>

</body>

</html>