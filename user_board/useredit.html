<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device=width, initial-scale=1">
    <title>글수정 | 북북노벨</title>

    <!-- bootstrap v5.3 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.7/css/bootstrap.min.css"
        integrity="sha512-fw7f+TcMjTb7bpbLJZlP8g2Y4XcCyFZW8uy8HsRZsH/SwbMw0plKHFHr99DN3l04VsYNwvzicUX/6qurvIxbxw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- bootstrap icons 1.13.1 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">

    <!-- jquery toast plugin v1.3.2 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-toast-plugin/1.3.2/jquery.toast.min.css"
        integrity="sha512-wJgJNTBBkLit7ymC6vvzM1EcSWeM9mmOu+1USHaRBbHkm6W9EgM0HY27+UtUaprntaYQJF75rc8gjxllKs5OIQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
        
    <!-- summernote -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.9.1/summernote-bs5.min.css"
        integrity="sha512-rDHV59PgRefDUbMm2lSjvf0ZhXZy3wgROFyao0JxZPGho3oOuWejq/ELx0FOZJpgaE5QovVtRN65Y3rrb7JhdQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        /* 사용자 정의 스타일 (주석) */
        /* 툴바 배경색 */
        .note-toolbar {
            background-color: #ffffff !important;
            /* 원하는 색상 */
        }

        /* 버튼 색상 (아이콘은 글자색으로 취급됨) */
        .note-btn {
            color: rgb(0, 0, 0) !important;
            /* 아이콘 색 */
            background-color: transparent !important;
            /* 배경 투명 */
            border: none !important;
            /* 테두리 제거 */
        }

        /* hover 시 효과 */
        .note-btn:hover {
            background-color: rgba(255, 255, 255, 0.2) !important;
            color: #027c08 !important;
            /* 노란색 같은 포인트 컬러 */
        }
    </style>
</head>

<body>
    <!-- navbar -->
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-success sticky-top flex-column">
        <div class="container-fluid container-xl">
            <div class="">
                <a class="navbar-brand fs-2"><i class="bi bi-book me-2"></i>북북노벨</a>
                <div class="navbar-nav">
                    <a class="nav-link text-white" href="../home/home.html">자유</a>
                    <a class="nav-link text-white" href="../home/ranking.html">랭킹</a>
                    <a class="nav-link text-white" href="../user_board/free_list.html">유저 게시판</a>
                </div>
            </div>
            <form class="d-flex" role="search">
                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" />
                <button class="btn btn-outline-light" type="submit">Search</button>
            </form>

        </div>
    </nav>
    <!-- navbar -->

    <div class="container-sm">
        <!-- 입력부 -->
        <div class="mt-3">
            <div class="ms-1 mt-3 py-3">
                <span class="fs-1 fw-bold">글쓰기</span>
            </div>

            <!-- 제목 입력 -->
            <div class="mb-3 justify-content-center">
                <div class="mb-2 me-4 col-1">
                    <select class="form-control border-secondary" type="select">
                        <option value="free">자유게시판</option>
                        <option value="recommend">작품 추천</option>
                        <option value="review">작품 리뷰</option>
                        <option value="fanart">팬아트</option>
                        <option value="free">유저 게시판</option>
                        <option value="recommend">작품 추천</option>
                        <option value="review">작품 리뷰</option>
                        <option value="fanart">팬아트</option>
                    </select>
                </div>
                <div class="d-flex gap-2">
                    <input type="text" class="p-2 mt-1 form-control bg-light border-secondary" name="company"
                        placeholder="제목을 입력해주세요." id="importantCheck">
                </div>
            </div>
            <!-- 파일 첨부 
            <div class="col-6 d-flex gap-4" id="fileAdd">
                <div class="">
                    <button class="btn btn-outline-primary" onclick="addFiles()">Add File</button>
                    <input type="file" multiple id="files" style="display: none;" />
                </div>
                <div class="table-responsive" style="max-height: 300px;">
                    <table class="table table-hover table-striped-columns text-center" id="table">
                        <thead class="table-light" style="position: sticky; top: 0; border-collapse: separate;">
                            <tr id="file-info">
                                <th scope="col">File Name</th>
                            </tr>
                        </thead>
                    </table>
                </div>
            </div>-->
            <!-- //파일 첨부 -->


            <!-- 글쓰기 본문 -->
            <div class="mb-3">
                <div class="form-floating">
                    <textarea class="form-control border-secondary" id="postTextarea"></textarea>
                </div>
            </div>

            <form method="post">
                <textarea id="summernote" name="editordata"></textarea>
            </form>

            <!-- 버튼 -->
            <div class="mt-3 text-end">
                <button type="button" class="btn btn-outline-warning me-3" id="cancleBtn">
                    <i class="bi bi-pencil-fill me-1"></i>취소
                </button>

                <button type="button" class="btn btn-outline-dark" id="addBtn">
                    <i class="bi bi-pencil-fill me-1"></i>작성 완료
                </button>
            </div>

        </div>
        <!--입력부 끝-->
    </div>









    <!-- bootstrap v5.3 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.7/js/bootstrap.bundle.min.js"
        integrity="sha512-Tc0i+vRogmX4NN7tuLbQfBxa8JkfUSAxSFVzmU31nVdHyiHElPPy2cWfFacmCJKw0VqovrzKhdd2TSTMdAxp2g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- jquery v3.7.1 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- jquery toast plugin v1.3.2 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-toast-plugin/1.3.2/jquery.toast.min.js"
        integrity="sha512-zlWWyZq71UMApAjih4WkaRpikgY9Bz1oXIW5G0fED4vk14JjGlQ1UmkGM392jEULP8jbNMiwLWdM8Z87Hu88Fw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- summernote -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.9.1/summernote-bs5.min.js"
        integrity="sha512-qTQLA91yGDLA06GBOdbT7nsrQY8tN6pJqjT16iTuk08RWbfYmUz/pQD3Gly1syoINyCFNsJh7A91LtrLIwODnw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.9.1/lang/summernote-ko-KR.min.js"
        integrity="sha512-npFeJw8MO1QVbeFuD7rqVR1CpAbOnUMoYnZIxDbz58biKU52Unq7Av3cn+SZ2KD4yOLWj4bOcjIV1+d4aEXAyg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- custom -->
    <script>

        document.getElementById('cancleBtn').addEventListener('click', function () {
            if (confirm('글쓰기를 취소하시겠습니까?')) {
                location.href = '../user_board/free_list.html';
            }
        });

        document.getElementById('addBtn').addEventListener('click', function () {
            location.href = '../notice/read.html';
            alert('수정이 완료되었습니다.');
        });

        $('#addBtn').on('click', function () {
            let boardType = $('select').val(); // 선택된 값 가져오기
            let targetUrl = '';

            // 값에 따라 페이지 분기
            switch (boardType) {
                case 'free':
                    targetUrl = '../user_board/free_list.html';
                    break;
                case 'fanart':
                    targetUrl = '../user_board/fanart_list.html';
                    break;
                case 'review':
                    targetUrl = '../user_board/review_list.html';
                    break;
                case 'recommend':
                    targetUrl = '../user_board/review_list.html';
                    break;
                default:
                    targetUrl = '../notice/read.html'; // 기본 페이지
            }

            // 페이지 이동
            alert('작성이 완료되었습니다.');
            location.href = targetUrl;
        });


        // 툴바
        $(document).ready(function () {
            //여기 아래 부분
            $('#summernote').summernote({
                height: 300,                 // 에디터 높이
                minHeight: null,             // 최소 높이
                maxHeight: null,             // 최대 높이
                focus: true,                  // 에디터 로딩후 포커스를 맞출지 여부
                lang: "ko-KR",					// 한글 설정
                placeholder: '최대 2048자까지 쓸 수 있습니다',	//placeholder 설정
                dialogsInBody: true,
                toolbar: [
                    // [groupName, [list of button]]
                    ['fontname', ['fontname']],
                    ['fontsize', ['fontsize']],
                    ['style', ['bold', 'italic', 'underline', 'strikethrough', 'clear']],
                    ['color', ['forecolor', 'backcolor']],
                    ['table', ['table']],
                    ['para', ['ul', 'ol', 'paragraph']],
                    ['height', ['height']],
                    ['insert', ['picture', 'link', 'video']],
                    ['view', ['fullscreen', 'help']]
                ],
                fontNames: ['Arial', 'Arial Black', 'Comic Sans MS', 'Courier New', '맑은 고딕', '궁서', '굴림체', '굴림', '돋움체', '바탕체'],
                fontSizes: ['8', '9', '10', '11', '12', '14', '16', '18', '20', '22', '24', '28', '30', '36', '50', '72'],

            });

        });

        $(document).ready(function () {
            let currentPrefix = "";

            // 셀렉트 박스 변경 시
            $('select').on('change', function () {
                let val = $(this).val();

                switch (val) {
                    case "recommend":
                        currentPrefix = "[작품 추천] ";
                        break;
                    case "review":
                        currentPrefix = "[작품 리뷰] ";
                        break;
                    case "fanart":
                        currentPrefix = "[팬아트] ";
                        break;
                    default:
                        currentPrefix = "";
                }

                const $importantCheck = $('#importantCheck');
                $importantCheck.val(currentPrefix);

                // 커서를 항상 접두사 뒤에 위치시킵니다.
                $importantCheck[0].setSelectionRange(currentPrefix.length, currentPrefix.length);
            });

            // input 필드에 입력이 발생할 때마다
            $('#importantCheck').on('input', function () {
                const $this = $(this);
                const currentVal = $this.val();

                // 입력된 값이 접두사로 시작하지 않으면 (지워졌을 경우)
                if (currentVal.indexOf(currentPrefix) !== 0) {
                    // 접두사를 다시 채워 넣습니다.
                    $this.val(currentPrefix + currentVal.substring(currentPrefix.length));
                }

                // 커서 위치를 항상 접두사 뒤로 고정
                if (this.selectionStart < currentPrefix.length) {
                    this.setSelectionRange(currentPrefix.length, currentPrefix.length);
                }
            });
        });

    </script>

</body>

</html>